{#
SPDX-FileCopyrightText: 2023 Slavi Pantaleev
SPDX-FileCopyrightText: 2023 - 2025 Meier Lukas
SPDX-FileCopyrightText: 2025 Suguru Hirahara

SPDX-License-Identifier: Apache-2.0
#}

{#
  See: https://opengist.io/docs/configuration/cheat-sheet.html
#}

UID={{ opengist_uid }}
GID={{ opengist_gid }}

OG_LOG_LEVEL={{ opengist_environment_variables_log_level }}
OG_LOG_OUTPUT={{ opengist_environment_variables_log_output }}
OG_EXTERNAL_URL={{ opengist_scheme }}://{{ opengist_hostname }}

OG_SECRET_KEY={{ opengist_environment_variables_secret_key }}

{% if opengist_database_type == 'sqlite' %}
OG_DB_URI={{ opengist_database_filename }}
{% endif %}

{% if opengist_database_type == 'mysql' %}
OG_DB_URI=mysql://{{ opengist_database_mysql_username }}:{{ opengist_database_mysql_password }}@{{ opengist_database_mysql_hostname }}:{{ opengist_database_mysql_port }}/{{ opengist_database_name }}
{% endif %}

{% if opengist_database_type == 'postgres' %}
OG_DB_URI=postgres://{{ opengist_database_postgres_username }}:{{ opengist_database_postgres_password }}@{{ opengist_database_postgres_hostname }}:{{ opengist_database_postgres_port }}/{{ opengist_database_name }}
{% endif %}

OG_HTTP_PORT={{ opengist_container_http_port }}
OG_HTTP_GIT_ENABLED={{ opengist_environment_variables_http_git_enabled | to_json }}

OG_METRICS_ENABLED={{ opengist_environment_variables_metrics_enabled | to_json }}
OG_SSH_GIT_ENABLED={{ opengist_environment_variables_ssh_git_enabled | to_json }}

OG_SSH_PORT={{ opengist_container_ssh_port }}

{{ opengist_environment_variables_additional_variables }}
